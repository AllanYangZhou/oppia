{% extends "base.html" %}

{% block subtitle %}
  <['I18N_SIGNUP_PAGE_SUBTITLE' | translate]>
{% endblock subtitle %}

{% block navbar_breadcrumb %}
  <ul class="nav navbar-nav oppia-navbar-breadcrumb">
    <li>
      <span class="oppia-navbar-breadcrumb-separator"></span>
      <span translate>I18N_SIGNUP_REGISTRATION</span>
    </li>
  </ul>
{% endblock navbar_breadcrumb %}

{% block content %}
  <!-- NOTE: This page should not contain any direct anchors to internal links. If the user visits an internal
  link before completing the signup process, they will be logged out.
  -->

  <style>
    html, body {
      background-color: #eee;
    }
  </style>

  <div class="oppia-page-cards-container" ng-controller="Signup">
    <md-card class="oppia-page-card">
      <h2 class="oppia-signup-page-title" translate>I18N_SIGNUP_COMPLETE_REGISTRATION</h2>

      <form ng-submit="submitPrerequisitesForm(agreedToTerms, username)">
        <div ng-show="!hasUsername" role="form" class="form-horizontal">
          <div class="form-group">
            <label class="col-lg-3 col-md-3 col-sm-3" translate>I18N_SIGNUP_EMAIL</label>
            <div class="col-lg-9 col-md-9 col-sm-9">
              {{user_email}}
            </div>
          </div>

          <div class="form-group">
            <label for="username" class="col-lg-3 col-md-3 col-sm-3" translate>I18N_SIGNUP_USERNAME</label>
            <div class="col-lg-9 col-md-9 col-sm-9">
              <input type="text" ng-model="username" id="username" class="form-control protractor-test-username-input" ng-blur="onUsernameInputFormBlur(username)" ng-change="updateWarningText(username)" ng-trim="false" focus-on="usernameInputField" style="width: 260px;" autofocus="true">
              <span class="help-block" style="font-size: 0.8em;" translate>
                I18N_SIGNUP_USERNAME_EXPLANATION
              </span>
              <div style="height: 18px; width: 550px;">
                <span style="color: red; font-size: 0.8em;" aria-live="assertive" ng-show="blurredAtLeastOnce">
                  <[warningText | translate]>
                </span>
              </div>
            </div>
          </div>
        </div>

        <hr>

        <p style="font-size: 1em;" translate translate-value-sitename="{{SITE_NAME}}">
          I18N_SIGNUP_SITE_DESCRIPTION
        </p>

        <div class="checkbox">
          <label>
            <input type="checkbox" ng-model="agreedToTerms" class="protractor-test-agree-to-terms-checkbox">
            <span translate translate-values="{sitename: '{{SITE_NAME}}', licenselink: '<a href=&quot;https://creativecommons.org/licenses/by-sa/4.0/&quot; target=&quot;_blank&quot;>CC-BY-SA v4.0</a>'}">
              I18N_SIGNUP_AGREE_LICENSE_DESCRIPTION
            </span>
            <a ng-click="showLicenseExplanationModal()" translate>I18N_SIGNUP_WHY_LICENSE_PARENTHESIS</a>
          </label>
        </div>

        <br>

        <button type="submit" class="btn btn-success protractor-test-register-user" ng-disabled="warningText || !agreedToTerms" translate>
          I18N_SIGNUP_BUTTON_SUBMIT
        </button>
      </form>
    </md-card>
  </div>

  <script type="text/ng-template" id="modals/licenseExplanation">
    <div class="modal-header">
      <h3 translate>I18N_SIGNUP_WHY_LICENSE</h3>
    </div>

    <div class="modal-body">
      <p style="line-height: 1.5;" translate translate-value-sitename="{{SITE_NAME}}">
        I18N_SIGNUP_SITE_OBJECTIVE
      </p>

      <p style="line-height: 1.5;" translate translate-licenselink="<a href=&quot;https://creativecommons.org/licenses/by-sa/4.0/&quot; target=&quot;_blank&quot;>CC-BY-SA v4.0</a>">
        I18N_SIGNUP_LICENSE_OBJECTIVE
      </p>

      <p style="line-height: 1.5;" translate>
        I18N_SIGNUP_WAIVER_OBJECTIVE
      </p>
    </div>

    <div class="modal-footer">
      <button class="btn btn-default" ng-click="close()" translate>I18N_SIGNUP_CLOSE_BUTTON</button>
    </div>
  </script>
{% endblock %}

{% block footer_js %}
  {{ super() }}
  <script>
    {{ include_js_file('/profile/Signup.js') }}
  </script>
{% endblock footer_js %}
